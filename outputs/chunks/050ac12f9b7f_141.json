{
  "content": "ne\n\n\ndef save_prompt(prompt: str, output_dir: Path) -> Optional[Path]:\n    \"\"\"Save prompt to a timestamped .txt file.\"\"\"\n    try:\n        output_dir.mkdir(parents=True, exist_ok=True)\n        filename = f\"summary_prompt_{datetime.datetime.now():%Y%m%d_%H%M%S}.txt\"\n        output_path = output_dir / filename\n        output_path.write_text(prompt, encoding='utf-8')\n        return output_path\n    except Exception as e:\n        print(f\"⚠ Error saving prompt: {e}\")\n        return None\n\n\ndef main() -> int:\n    parser = argparse.ArgumentParser(description=\"Generate a master prompt from summarized chunks\")\n    parser.add_argument(\"--summaries-dir\", type=Path, default=DEFAULT_SUMMARIES_DIR,\n                        help=\"Directory containing summary files\")\n    parser.add_argument(\"--template-file\", type=Path, required=True,\n                        help=\"Path to the template file\")\n    parser.add_argument(\"--output-dir\", type=Path, default=DEFAULT_PROMPTS_DIR,\n                        help=\"Directory to save the prompt\")\n    parser.add_argument(\"--title\", type=str, default=None,\n                        help=\"Optional title to override the default\")\n    parser.add_argument(\"--verbose\", \"-v\", action=\"store_true\",\n                        help=\"Enable verbose output\")\n    args = parser.parse_args()\n\n    if args.verbose:\n        print(f\"→ Using summaries from: {args.summaries_dir}\")\n        print(f\"→ Using template: {args.template_file}\")\n        print(f\"→ Output will be saved to: {args.output_dir}\")\n\n    template = load_template(args.template_file)\n    if not template:\n        return 1\n\n    summaries = load_summaries(args.summaries_dir, verbose=args.verbose)\n    if not summaries:\n        print(\"❌ No summaries loaded\")\n        return 1\n\n    prompt = generate_prompt(template, summaries, title=args.title)\n    if not prompt:\n        print(\"❌ Failed to generate prompt\")\n        return 1\n\n    output_file = save_prompt(prompt, args.output_dir)\n    if not output_file:\n        print(\"❌ Fai",
  "metadata": {
    "source": "/mnt/chromeos/removable/USB Drive/review_assistant/codebase/chat_sessions/Chat_with_CFO_20250521_140836.txt",
    "chunk_id": "050ac12f9b7f_141",
    "start_char": 253800,
    "end_char": 255800,
    "created_at": "2025-05-21T08:41:33+00:00"
  }
}