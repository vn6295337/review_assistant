{
  "content": "\"numpy\", numpy.__version__)\nprint(\"transformers\", transformers.__version__)\nfrom transformers import pipeline\nprint(\"‚Ä¶ initialising summarizer\")\nprint(pipeline(\"summarization\", model=\"t5-small\"))\nPY\nIf you see a SummarizationPipeline(...) object printed, the environment is fixed.\n\nOption B ‚Äî Keep PyTorch 2.1.2 but pin an older Transformers\nIf disk-space or slow CPU makes upgrading PyTorch undesirable.\n\npip uninstall transformers -y\npip install \"transformers==4.37.2\"     # last version that works with torch 2.1.x\npip uninstall numpy -y\npip install \"numpy<2.0,>=1.26.4\"       # still need NumPy 1.x\nTransformers 4.37 still supports the call pattern we use (pipeline(\"summarization\")).\n\nüí° Extra tips\nOne-time model download\nWhen pipeline() runs the first time, it downloads t5-small (~60 MB) into ~/.cache/huggingface/.\nTo persist it on your USB drive, set:\n\nexport TRANSFORMERS_CACHE=\"/mnt/chromeos/removable/USB Drive/hf_cache\"\nbefore running the script the first time.\n\nMemory footprint\n\nt5-small + PyTorch CPU weighs ~600 MB RAM during inference ‚Äî okay on most modern Chromebooks but monitor usage.\n\nGraceful fallback\nIf you want the RAG workflow to keep working even when the model is absent, wrap the pipeline call in a try/except and fall back to the ‚Äúfirst-20-lines preview‚Äù approach.\n\nQuick fallback patch for file_summarizer.py\nReplace the top of the script with:\n\ntry:\n    from transformers import pipeline\n    summarizer = pipeline(\"summarization\", model=\"t5-small\")\n    USE_MODEL = True\nexcept Exception as e:\n    print(\"‚ö†Ô∏è  Summarizer model not available ‚Äì falling back to preview mode\\n   \", e)\n    USE_MODEL = False\nand in summarize_chunk, switch:\n\nif USE_MODEL:\n    summary_text = summarizer(content, max_length=100, min_length=20, do_sample=False)[0][\"summary_text\"]\nelse:\n    lines = content.strip().splitlines()\n    summary_text = \"\\n\".join(lines[:20])\nWhat to do now\nPick Option A (up-to-date) or Option B (older transformers).\n\nRun the install commands inside your virtual en",
  "metadata": {
    "source": "/mnt/chromeos/removable/USB Drive/review_assistant/codebase/chat_sessions/Chat_with_CFO_20250521_140836.txt",
    "chunk_id": "050ac12f9b7f_211",
    "start_char": 379800,
    "end_char": 381800,
    "created_at": "2025-05-21T08:41:33+00:00"
  }
}