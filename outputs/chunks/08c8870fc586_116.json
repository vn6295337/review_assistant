{
  "content": "OT/outputs/prompts/structured_prompt.txt\"\nTEMPLATE=\"$ROOT/templates/structured_prompt_template.md\"\nMCP_HELPER=\"$ROOT/python/mcp_helper.py\"\n\n# === Locate Latest Summary File ===\nLATEST_SUMMARY=$(ls -t \"$SUMMARY_DIR\"/*.json 2>/dev/null | head -n 1)\nif [ -z \"$LATEST_SUMMARY\" ]; then\n  echo \"❌ No summary file found in $SUMMARY_DIR\"\n  exit 1\nfi\n\n# === Prompt Inputs ===\necho \"Enter prompt title:\"\nread -r TITLE\n\necho \"Enter your main question:\"\nread -r QUESTION\n\necho \"Enter any notes you want to add:\"\nread -r NOTES\n\necho \"Enter a final comment or conclusion:\"\nread -r CONCLUSION\n\n# === Generate Prompt ===\necho \"🛠 Generating prompt using latest summary: $LATEST_SUMMARY\"\npython3 \"$MCP_HELPER\" create \\\n  --template \"$TEMPLATE\" \\\n  --output \"$PROMPT_OUT\" \\\n  --var title=\"$TITLE\" \\\n  --context-file \"$LATEST_SUMMARY\" summary \\\n  --var question=\"$QUESTION\" \\\n  --var notes=\"$NOTES\" \\\n  --var conclusion=\"$CONCLUSION\"\n\n# === Result ===\nif [ -f \"$PROMPT_OUT\" ]; then\n  echo \"✅ Prompt saved to: $PROMPT_OUT\"\n  echo \"Preview:\\n\"\n  head -n 30 \"$PROMPT_OUT\"\nelse\n  echo \"❌ Failed to create prompt.\"\nfi\nhow about gnerated_structured_prompt.sh\nChatGPT said:\nBelow is a refactored and modular version of your generated_structured_prompt.sh. It:\n\nSources your central config.sh so you don’t hard‑code paths.\n\nUses functions for clarity.\n\nAdds ANSI colors for better UX.\n\nValidates inputs and handles empty defaults.\n\nLeverages the updated mcp_helper.py arguments (--summaries-dir, --template-file, etc.) rather than a custom “create” subcommand.\n\n#!/usr/bin/env bash\nset -euo pipefail\n\n# ───────────────────────────────────────────────────────────\n# generated_structured_prompt.sh ─ Build a structured prompt\n# ───────────────────────────────────────────────────────────\n\n# Load central config\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nsource \"$SCRIPT_DIR/config.sh\"\n\n# Colors\nGREEN='\\033[0;32m'\nRED='\\033[0;31m'\nCYAN='\\033[0;36m'\nNC='\\033[0m'\n\n# ─────────────────────────────────────────────────",
  "metadata": {
    "source": "/mnt/chromeos/removable/USB Drive/review_assistant/codebase/chat_sessions/Chat_with_CFO_20250521_125041.txt",
    "chunk_id": "08c8870fc586_116",
    "start_char": 208800,
    "end_char": 210800,
    "created_at": "2025-05-21T07:21:40+00:00"
  }
}