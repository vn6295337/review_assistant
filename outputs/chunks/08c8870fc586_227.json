{
  "content": "py‑paste it over the existing file in review_assistant/scripts.\n\n#!/bin/bash\n#\n# full_rag_workflow.sh  ─  Orchestrates the complete local RAG pipeline\n#\n# Location   : review_assistant/scripts\n# Depends on : review_assistant/scripts/config.sh\n#\n\nset -euo pipefail\ntrap 'echo -e \"\\033[0;31m❌ Workflow aborted (${BASH_SOURCE[1]}:${LINENO})\\033[0m\"' ERR\n\n# ───────────────────────────────────────────────────────────\n# 1. Load central configuration\n# ───────────────────────────────────────────────────────────\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nsource \"${SCRIPT_DIR}/config.sh\"\n\n# ───────────────────────────────────────────────────────────\n# 2. Colours for pretty output\n# ───────────────────────────────────────────────────────────\nGREEN='\\033[0;32m'; RED='\\033[0;31m'; YELLOW='\\033[1;33m'\nBLUE='\\033[0;34m'; NC='\\033[0m' # No colour / reset\n\n# ───────────────────────────────────────────────────────────\n# 3. Banner\n# ───────────────────────────────────────────────────────────\necho -e \"\\n${BLUE}======================================================${NC}\"\necho -e \"${BLUE}  Running Full RAG Workflow${NC}\"\necho -e \"${BLUE}======================================================${NC}\\n\"\n\n# ───────────────────────────────────────────────────────────\n# 4. First‑run sanity checks\n# ───────────────────────────────────────────────────────────\nfor dir in \"$PYTHON_DIR\" \"$CHUNKS_DIR\" \"$SUMMARIES_DIR\" \"$PROMPTS_DIR\"; do\n  if [[ ! -d \"$dir\" ]]; then\n    echo -e \"${YELLOW}Creating missing directory:${NC} $dir\"\n    mkdir -p \"$dir\"\n  fi\ndone\n\n# Ensure we have at least a fallback prompt template\nif [[ ! -f \"$DEFAULT_TEMPLATE\" ]]; then\n  echo -e \"${YELLOW}Creating fallback template at:${NC} $DEFAULT_TEMPLATE\"\n  mkdir -p \"$(dirname \"$DEFAULT_TEMPLATE\")\"\n  cat > \"$DEFAULT_TEMPLATE\" <<'EOL'\n# {title}\n\n## Context Information\n{summaries}\n\n## Tasks\n1. High‑level overview  \n2. Key insights  \n3. Issues / risks  \n4. Recommended next steps  \nEOL\nfi\n\n# ──────────────────────────────────",
  "metadata": {
    "source": "/mnt/chromeos/removable/USB Drive/review_assistant/codebase/chat_sessions/Chat_with_CFO_20250521_125041.txt",
    "chunk_id": "08c8870fc586_227",
    "start_char": 408600,
    "end_char": 410600,
    "created_at": "2025-05-21T07:21:41+00:00"
  }
}