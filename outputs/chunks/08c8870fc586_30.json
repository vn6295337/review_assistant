{
  "content": " with size $chunk_size and overlap $overlap...${NC}\"\n    python3 \"${PYTHON_DIR}/file_chunker.py\" \\\n      --input-file \"$source_file\" \\\n      --output-dir \"$CHUNKS_DIR\" \\\n      --chunk-size \"$chunk_size\" \\\n      --overlap \"$overlap\" \\\n      --verbose\n  else\n    echo -e \"${YELLOW}Exiting workflow as no chunks are available.${NC}\"\n    exit 0\n  fi\nelse\n  echo -e \"${GREEN}✓ Found $chunk_count chunk files${NC}\"\nfi\n\n# Step 2: Generate summaries\necho \"\"\necho -e \"${BLUE}Step 2: Generating summaries...${NC}\"\n\n# Clean up existing summaries if needed\nif [ \"$(find \"$SUMMARIES_DIR\" -name \"summary_*.json\" | wc -l)\" -gt 0 ]; then\n  echo -e \"${YELLOW}Existing summaries found.${NC}\"\n  echo -e \"${BLUE}Would you like to regenerate all summaries? (y/n)${NC}\"\n  read -r regenerate_summaries\n\n  if [ \"$regenerate_summaries\" = \"y\" ]; then\n    echo -e \"${YELLOW}Cleaning up existing summaries...${NC}\"\n    rm -f \"${SUMMARIES_DIR}/summary_*.json\"\n  fi\nfi\n\n# Generate summaries for all chunks\necho -e \"${GREEN}Generating summaries for all chunks...${NC}\"\npython3 \"${PYTHON_DIR}/file_summarizer.py\" \\\n  --input-dir \"$CHUNKS_DIR\" \\\n  --output-dir \"$SUMMARIES_DIR\" \\\n  --verbose\n\n# Step 3: Generate final prompt\necho \"\"\necho -e \"${BLUE}Step 3: Generating master prompt...${NC}\"\n\necho -e \"${BLUE}Enter a title for this review:${NC}\"\nread -r review_title\n\nif [ -z \"$review_title\" ]; then\n  review_title=\"Content Analysis $(date +%Y-%m-%d)\"\nfi\n\n# Generate the prompt\necho -e \"${GREEN}Creating prompt with title: $review_title${NC}\"\npython3 \"${PYTHON_DIR}/mcp_helper.py\" \\\n  --summaries-dir \"$SUMMARIES_DIR\" \\\n  --template-file \"$TEMPLATE_FILE\" \\\n  --output-dir \"$PROMPTS_DIR\" \\\n  --title \"$review_title\"\n\n# Step 4: Find the latest prompt file\nlatest_prompt=$(find \"$PROMPTS_DIR\" -name \"summary_prompt_*.txt\" -type f -printf \"%T@ %p\\n\" | sort -nr | head -1 | cut -d' ' -f2-)\n\nif [ -n \"$latest_prompt\" ]; then\n  echo \"\"\n  echo -e \"${GREEN}✓ Workflow complete! Latest prompt available at:${NC}\"\n  echo \"$latest_prompt\"\n  echo ",
  "metadata": {
    "source": "/mnt/chromeos/removable/USB Drive/review_assistant/codebase/chat_sessions/Chat_with_CFO_20250521_125041.txt",
    "chunk_id": "08c8870fc586_30",
    "start_char": 54000,
    "end_char": 56000,
    "created_at": "2025-05-21T07:21:39+00:00"
  }
}